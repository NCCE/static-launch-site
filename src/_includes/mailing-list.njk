{% from "node_modules/govuk-frontend/components/input/macro.njk" import govukInput %}
{% from "node_modules/govuk-frontend/components/button/macro.njk" import govukButton %}

<div class="ncce-stay-in-touch">
  <div class="govuk-width-container">
    <div class="govuk-main-wrapper">
      <div class="govuk-grid-row">
        <div class="govuk-grid-column-one-half">
          <p class="govuk-heading-l ncce-stay-in-touch__heading">Stay up to date</p>
          <p class="govuk-body ncce-stay-in-touch__body">Be first to know when we launch resources, training and events.</p>
          <form action="{{ env.adestraEndpoint }}" method="post" accept-charset="UTF-8">
            <div class="govuk-form-group">
              <label class="govuk-label ncce-stay-in-touch__label" for="amf-input-firstname_6">Firstname</label>
              <input type="text" class="govuk-input ncce-stay-in-touch__input" name="firstname_6" id="amf-input-firstname_6" value="" maxlength="255" onkeyup="if (this.length>255) this.value=this.value.substr(0, 255)" onblur="this.value=this.value.substr(0, 255)">
            </div>
            <div class="govuk-form-group">
              <label class="govuk-label ncce-stay-in-touch__label" for="amf-input-surname_7">Surname</label>
              <input type="text" class="govuk-input ncce-stay-in-touch__input" name="surname_7" id="amf-input-surname_7" value="" maxlength="255" onkeyup="if (this.length>255) this.value=this.value.substr(0, 255)" onblur="this.value=this.value.substr(0, 255)">
            </div>
            <div class="govuk-form-group">
              <label class="govuk-label ncce-stay-in-touch__label" for="amf-input-email_5">Email</label>
              <input type="text" class="govuk-input ncce-stay-in-touch__input" name="email_5" id="amf-input-email_5" value="" maxlength="255" onkeyup="if (this.length>255) this.value=this.value.substr(0, 255)" onblur="this.value=this.value.substr(0, 255)">
            </div>
            <input type="submit" class="govuk-button ncce-stay-in-touch__button" name="submit" id="submit" value="Get updates">
            <script type="text/javascript" id="0.00636734543552819">
              (function(){
                var script			= document.getElementById('0.00636734543552819');
                var form			= script.parentNode;
                var inputs			= form.getElementsByTagName('INPUT');
                var submit_count	= 0;

                var enable_double_submit = false;

                for (var i=0; i<inputs.length; i++) {
                  var my_input = inputs[i];
                  if ( my_input.type === 'submit' ) {
                    var container = my_input.parentNode;
                    if (container.className.match(/enable-double-submit/)) {
                      enable_double_submit = true;
                    }
                  }
                }

                form.addEventListener('submit', function( evt ){
                  if (submit_count >= 1 && !enable_double_submit) {
                    evt.preventDefault();
                  }
                  submit_count++;
                });

              })();
          </script>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
